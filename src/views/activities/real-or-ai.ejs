<div id="real-or-ai-container">
    <h2>>> VISUAL_ANALYSIS</h2>
    <p>IMAGE_<span id="img-index"><%= step + 1 %></span>_OF_6</p>
    <p>ANALYZE THE IMAGE ON THE MAIN DISPLAY.</p>
    
    <div class="options-grid">
        <button class="cyber-button" onclick="vote('real')">>> REAL</button>
        <button class="cyber-button" onclick="vote('ai')">>> AI_GENERATED</button>
    </div>
    
    <div id="vote-status" style="margin-top:20px; display:none;">
        VOTE_REGISTERED. AWAITING_RESULT...
    </div>
</div>

<script>
    // In a real scenario, this would listen to Firestore for the current image index
    let currentImageIndex = <%= step %>;

    async function vote(decision) {
        try {
            const response = await fetch('/activity/real-or-ai/respond', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ imageIndex: currentImageIndex, vote: decision })
            });
            
            if (response.ok) {
                document.querySelector('.options-grid').style.display = 'none';
                document.getElementById('vote-status').style.display = 'block';
            }
        } catch (e) {
            console.error(e);
            alert("TRANSMISSION_ERROR");
        }
    }
</script>
